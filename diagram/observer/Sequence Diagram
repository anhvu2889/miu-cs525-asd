@startuml
[-> AccountService++ : deposit()
AccountService -> AccountDAO++: loadAccount()
return account
AccountService -> Account++: deposit()
Account -> AccountEntry++: create()
return accountEntry
Account -> Account: add entry to list
deactivate Account
AccountService -> AccountDAO++: updateAccount()
deactivate AccountDAO
AccountService -> AccountEventManager++: triggerEvent()
AccountEventManager -> AccountEventManager: get listeners
loop for each listener
AccountEventManager -> AccountEventListener++: onAccountUpdate()
deactivate AccountEventListener
end
deactivate AccountEventManager
@enduml